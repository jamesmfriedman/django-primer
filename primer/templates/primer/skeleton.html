{% load compress %}

<!doctype html>
<html class="{% block namespace %}{{ css_namespace }}{% endblock namespace %}" lang="en" data-cssnamespace="{{ css_namespace }}">
<head>

	<title>{% block title%}Primer{% endblock title %}</title>

	{% block favicon %}
	<link rel="icon" href="{{ STATIC_URL }}primer/img/icons/lightning.ico" />
    {% endblock favicon %}
	
	{% block meta %}
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	
	{% if push_channel_id %}
		<meta id="{{ push_service }}" channel="{{ push_channel_id }}" pub-key="{{ push_pub_key }}" sub-key="{{ push_sub_key }}" push-service="{{ push_service }}">
	{% endif %}

	{% endblock meta %}

	{% compress css %}
		{% block header_css %}
		<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}primer/css/primer.css">
		{% endblock header_css %}
	{% endcompress %}

	{% compress js %}	

		{# JQUERY + UI #}
		<script src="{{ STATIC_URL }}primer/js/vendors/jquery.js"></script>
		<script src="{{ STATIC_URL }}primer/js/vendors/jquery-ui.js"></script>
		
		{# HOGAN JS TEMPLATES #}		
		<script src="{{ STATIC_URL }}primer/js/vendors/hogan-2.0.0.js"></script>		

		{# POLYFILLS #}
		<script src="{{ STATIC_URL }}primer/js/primer-fills.js"></script>
		<script src="{{ STATIC_URL }}primer/js/vendors/polyfills/sessionstorage.1.4.js"></script>
		<script src="{{ STATIC_URL }}primer/js/vendors/polyfills/history.js"></script>

		{# FILEUPLOADER PLUGIN #}
		<script src="{{ STATIC_URL }}primer/js/vendors/fileupload/jquery.iframe-transport.js"></script>
		<script src="{{ STATIC_URL }}primer/js/vendors/fileupload/jquery.fileupload.js"></script>

		{# MD5 HASHING FUNCTION #}
		<script src="{{ STATIC_URL }}primer/js/vendors/jquery.md5.js"></script>

		{# JQUERY.KNOB for circle preloaders #}	
		<script src="{{ STATIC_URL }}primer/js/vendors/jquery.knob.js"></script>

		{# BOOTSTRAPS PLUGINS, a bunch of useful stuff #}		
		<script src="{{ STATIC_URL }}primer/bootstrap/js/bootstrap.min.js"></script>

		{# PRIMER PLUGINS #}
		<script src="{{ STATIC_URL }}primer/js/primer-toolkit.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-csrf.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-ajax.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-ajax-forms.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-ajax-content.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-scrollspy-fix.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-history.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-autogrow.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-modal.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-autocomplete.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-pill-autocomplete.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-colorpicker.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-comments.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-betterforms.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-collapse.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-notifications.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-pushclient.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-notifications-widget.js"></script>
		<script src="{{ STATIC_URL }}primer/js/primer-media-uploader.js"></script>

		{% block header_scripts %}
		{% endblock header_scripts %}
	{% endcompress %}

	{% compress js %}
		{% block app_scripts %}
		{% endblock app_scripts %}

		{% block view_scripts %}
		{% endblock view_scripts %}

		{% block section_scripts %}
		{% endblock section_scripts %}
	{% endcompress %}
</head>

<body id="body" {% block body_attrs %}{% endblock body_attrs %}>
	{% block body %}
		{% block app_content %}
			{% block view_content %}
			{% endblock view_content %}
		{% endblock app_content %}
	{% endblock body %}

	{% if push_service == 'pubnub' %}
		<script src="http://cdn.pubnub.com/pubnub-3.4.min.js" type="text/javascript"></script>
	{% elif push_service == 'pusher' %}
		<script src="http://js.pusher.com/1.12/pusher.min.js" type="text/javascript"></script>
	{% endif %}

	{% block external_scripts %}

	{% endblock external_scripts %}
</body>
</html>
