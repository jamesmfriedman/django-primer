<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">





<html class="pdocs" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Comments &mdash; Primer 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/primer.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/hogan.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/primer.js"></script>
    <link rel="top" title="Primer 0.1 documentation" href="../../index.html" />
    <link rel="prev" title="Notifications" href="../notifications/index.html" /> 
  </head>
  <body>
    <div class="navbar navbar-fixed-top pdocs-navbar">
      <div class="container">
        <a class="navbar-brand" href="../../index.html">Primer</a>
      </div>
    </div>
  
<div class="container">
  <div class="row">
    <div class="col col-lg-3">
    	<div class="well pdocs-sidenav">  
  <h3><a href="../../index.html">Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Comments</a><ul>
<li><a class="reference internal" href="#model-additions">Model Additions</a></li>
<li><a class="reference internal" href="#template-tags">Template Tags</a></li>
<li><a class="reference internal" href="#basic-comment-list">Basic Comment List</a></li>
<li><a class="reference internal" href="#walls">Walls</a></li>
<li><a class="reference internal" href="#timelines">Timelines</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../notifications/index.html"
                        title="previous chapter">Notifications</a></p>
<div id="searchbox" style="display: none">
    <form class="search" action="../../search.html" method="get">
      
      <div class="input-group">
        <input type="text" placeholder="Search" name="q" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
        <span class="input-group-btn">
          <button class="btn btn-default" type="button">Go!</button>
        </span>
      </div>

    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
      </div>
    </div>

    <div class="col col-lg-9">
       	
  <div class="section" id="comments">
<h1>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h1>
<p>Django&#8217;s built in Comments framework has a lot of great features, but the front end implementation left a lot to be desired. Primer enhances the build in Comments framework and reduces implementing comments into your webapp into a one line template tag. A lot of care has been taken to extend and enhance Django&#8217;s Comments framework, with overriding its default behavior. You can use the Comment&#8217;s framework as documented if you so choose, and Primer won&#8217;t get in the way. You might want to read up on <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/contrib/comments/">Django&#8217;s Comments framework</a> before you get started.</p>
<div class="section" id="model-additions">
<h2>Model Additions<a class="headerlink" href="#model-additions" title="Permalink to this headline">¶</a></h2>
<p>These fields have been monkey patched onto the comments model.</p>
<table class="table table-striped table-bordered">
        <thead>
                <tr>
                        <th>Field</th>
                        <th>Description</th>
                </tr>
        </thead>
        <tbody>
                <tr>
                        <td>uuid</td>
                        <td>A UUID field that gets auto generated on save.</td>
                </tr>
                <tr>
                        <td>created</td>
                        <td>Date created, auto added</td>
                </tr>
                <tr>
                        <td>modified</td>
                        <td>Date modified, auto updated</td>
                </tr>
                <tr>
                        <td>parent</td>
                        <td>The parent comment. This is used for walls, where comments can belong to other comments.</td>
                </tr>
                <tr>
                        <td>type</td>
                        <td>An arbitraty string type you can set on a comment. This is taken into account when selecting what template to render the comment with.</td>
                </tr>
                <tr>
                        <td>data</td>
                        <td>A PickleField for arbirary data to associate with your comment. This can be extremely useful for custom comment forms that have a lot of extra fields.</td>
                </tr>
        </tbody>
</table></div>
<div class="section" id="template-tags">
<h2>Template Tags<a class="headerlink" href="#template-tags" title="Permalink to this headline">¶</a></h2>
<p>Similar to Django&#8217;s Comments App, Primer uses template tags for easy implementation. To use any of these, just load the <tt class="docutils literal"><span class="pre">primer_comment_tags</span></tt> library in your template.</p>
<table class="table table-striped table-bordered">
        <thead>
                <tr>
                        <th colspan="2">Tags</th>
                </tr>
        </thead>
        <tbody>
                <tr>
                        <td>{% comments %}</td>
                        <td>Renders a standard comment list. Supports likes, but no replies.</td>
                </tr>
                <tr>
                        <td>{% wall %}</td>
                        <td>Renders a social network style wall that supports replies.</td>
                </tr>
                <tr>
                        <td>{% timeline %}</td>
                        <td>Very similar to a wall, but with a much more visiual display.</td>
                </tr>
        </tbody>
</table><table class="table table-striped table-bordered">
        <thead>
                <tr>
                        <th colspan="2">Arguments</th>
                </tr>
        </thead>
        <tbody>
                <tr>
                        <td>target</td>
                        <td><span class="text-error">Required</span>. The database object these comments are attached to.</td>
                </tr>
                <tr>
                        <td>stream</td>
                        <td>A list or QuerySet of other objects to show comments for. New posts will still be attached to the target, but users will be able to like and reply items in the stream.</td>
                </tr>
                <tr>
                        <td>placeholder</td>
                        <td>The placeholder text for the comment field in the form. Default is <em>"Write Something..."</em></td>
                </tr>
                <tr>
                        <td>limit</td>
                        <td>Int. Number of comments to show per page. Default is 10.</td>
                </tr>
                <tr>
                        <td>reversed</td>
                        <td>1 or 0 a boolean. When reversed, the add comment box will appear at the bottom instead of the top, and the comments will be reversed accordingly. Currently this is only implemented for regular comment lists.</td>
                </tr>
                <tr>
                        <td>read_only</td>
                        <td>1 or 0 as a boolean. No form will be added if it is read only.</td>
                </tr>
                <tr>
                        <td>forms</td>
                        <td>A comma separated string of form class names that have been registered with <code>primer.comments.forms.register_comment_form</code>. If not explicitly passed the default forms will be used.</td>
                </tr>
                <tr>
                        <td>tab_class</td>
                        <td>The comment forms are rendered in a Bootstrap tabs container. This class will override the additional class for the <code>.nav-tabs</code> container. The default is 'nav_pills'</td>
                </tr>
                <tr>
                        <td>login_required</td>
                        <td>0 or 1 as bool. Whether or not logging in is required for someone to post to the comments. They will still be able to see them. Default is True.</td>
                </tr>
                <tr>
                        <td>css_class_name</td>
                        <td>An additional css class to append to the main comments container div.</td>
                </tr>
                <tr>
                        <td>position</td>
                        <td><span class="text-danger">Timeline Only</span>. You can specify 'left', 'right', or 'center'. Default is center.</td>
                </tr>
        </tbody>
</table></div>
<div class="section" id="basic-comment-list">
<h2>Basic Comment List<a class="headerlink" href="#basic-comment-list" title="Permalink to this headline">¶</a></h2>
<p>Getting a comments list on a page with primer is extremely easy. Load the &lt;code&gt;primer_comment_tags&lt;/code&gt; template tag library, and pass an object from the database in as your target. The form will be added for you automatically, and it is an extension of Django&#8217;s built in comment form, so it contains all the nifty little security features as well as checking for profanity, duplicates, etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Heads Up!</strong> The fields for name and email will appear if the user isn&#8217;t authenticated.</p>
</div>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">comments</span> <span class="nv">from</span> <span class="nv">primer_comment_tags</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">comments</span> <span class="nv">target</span><span class="o">=</span><span class="nv">my_object</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="walls">
<h2>Walls<a class="headerlink" href="#walls" title="Permalink to this headline">¶</a></h2>
<p>Walls are similar to comment lists except they offer the ability to reply to the main posts. Walls are intended to be highly customizeable and allow for custom forms and control over the comments rendering through the use of custom templates. Implementation is identical to that of comment lists.</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">wall</span> <span class="nv">from</span> <span class="nv">primer_comment_tags</span>  <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">wall</span> <span class="nv">target</span><span class="o">=</span><span class="nv">comment_obj</span> <span class="nv">forms</span><span class="o">=</span><span class="s2">&quot;StatusForm, EmotionForm&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="timelines">
<h2>Timelines<a class="headerlink" href="#timelines" title="Permalink to this headline">¶</a></h2>
<p>Timelines are a different take on walls. They are functionally identical, just represented differently visually.</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">timeline</span> <span class="nv">from</span> <span class="nv">primer_comment_tags</span>  <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">timeline</span> <span class="nv">target</span><span class="o">=</span><span class="nv">comment_obj</span> <span class="nv">position</span><span class="o">=</span><span class="s2">&quot;center&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>


    </div>
   </div>
 </div>
    <div class="navbar navbar-fixed-top pdocs-navbar">
      <div class="container">
        <a class="navbar-brand" href="../../index.html">Primer</a>
      </div>
    </div>
    <footer class="footer">
    	<div class="container">
        &copy; Copyright 2013, James Friedman.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    	</div>
    </footer>
  </body>
</html>